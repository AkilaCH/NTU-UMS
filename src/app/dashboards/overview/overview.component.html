<div class="card main-card-height ">
  <div class="card-body h-100 card-scroll">

    <div class="row">
      <div class="col-md-12 col-lg-4 col-xl-3 pl-1 pr-1 mt-2 ">
        <div class="chart-card h-100" id="energyConsumption">
          <app-print-preview [targetHtml] = "'energyConsumption'" [title]="'Change In Energy Consumption'"></app-print-preview>
          <div class="chart-card-header header-title">
            <div>
              Change In Energy Consumption<br>
              <small>Last Two Months</small>
            </div>
          </div>
          <div class="chart-card-body position-relative">
            <app-chart-loader [isDone] = "isDone.elecChangeInConsumption">
              <div class="row">
                <div class="col-sm-8 col-md-8 col-lg-8 col-xl-8 pt-4 pb-4 pl-4">
                  <app-trend3d *ngIf="elecChangeInConsumption" [dataSource]="elecChangeInConsumption"></app-trend3d>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4 pt-4 pb-4 pl-0 ml-min1">
                  <app-indicator *ngIf="elecChangeInConsumption" [newValue]="elecNewValue"
                                 [oldValue]="elecOldValue"
                                 [unit]="'kWh'"></app-indicator>
                </div>
              </div>
            </app-chart-loader>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-lg-4 col-xl-3 pl-1 pr-1 mt-2">
        <div class="chart-card h-100" id="waterConsumption">
          <app-print-preview [targetHtml] = "'waterConsumption'" [title]="'Change In Water Consumption'"></app-print-preview>
          <div class="chart-card-header header-title">
            <div>
              Change In Water Consumption<br>
              <small>Last Two Months</small>
            </div>
            
          </div>
          <div class="chart-card-body position-relative">
            <app-chart-loader [isDone] = "isDone.waterChangeInConsumption">
              <div class="row">
                <div class="col-sm-8 col-md-8 col-lg-8 col-xl-8 pt-4 pb-4 ">
                  <app-trend3d *ngIf="waterChangeInConsumption" [dataSource]="waterChangeInConsumption"></app-trend3d>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4 pt-4 pb-4 pl-0 ml-min1">
                  <app-indicator *ngIf="waterChangeInConsumption" [newValue]="waterNewValue"
                                 [oldValue]="waterOldValue"
                                 [unit]="'mÂ³'"></app-indicator>
                </div>
              </div>
            </app-chart-loader>
          </div>
        </div>
      </div>
      <div class="col-md-12 col-lg-4 col-xl-3 pl-1 pr-1 mt-2">
        <div class="chart-card h-100" id="coolingConsumption">
          <app-print-preview [targetHtml] = "'coolingConsumption'" [title]="'Change In Cooling Load'"></app-print-preview>
          <div class="chart-card-header header-title">
            <div>
              Change In Cooling Load<br>
              <small>Last Two Months</small>
            </div>
          </div>
          <div class="chart-card-body position-relative">
            <app-chart-loader [isDone] = "isDone.coolingChangeInConsumption">
              <div class="row">
                <div class="col-sm-8 col-md-8 col-lg-8 col-xl-8 pt-4 pb-4 ">
                  <app-trend3d *ngIf="coolingChangeInConsumption" [dataSource]="coolingChangeInConsumption"></app-trend3d>
                </div>
                <div class="col-sm-4 col-md-4 col-lg-4 col-xl-4 pt-4 pb-4 pl-0 ml-min1">
                  <app-indicator *ngIf="coolingChangeInConsumption" [newValue]="coolingNewValue"
                                 [oldValue]="coolingOldValue"
                                 [unit]="'RTh'"></app-indicator>
                </div>
              </div>
            </app-chart-loader>
          </div>
        </div>
      </div>

      <div class="col-md-12 col-lg-4 col-xl-3 pl-1 pr-1 mt-2 d-none d-xl-block ">
        <div class="chart-card h-100">
          <div class="chart-card-header">
            <div>
              This Month Consumption<br>
              <small>From {{ thisMonthConsumption.start | date:"yyyy-MM-dd" }} to {{ thisMonthConsumption.end.toString() | date:"yyyy-MM-dd" }}</small>
            </div>
          </div>
          <div class="monthly-consumption customs-consuption">
            <div class="field position-relative">
              <div>
                <div class="title">Energy Consumption</div>
                <app-chart-loader [isDone] = "isDone.realTimeConsumptionElec">
                  <div class="value" [style.color]="this.colorMap.electric.secondary">
                    {{ realTimeConsumptionElec }}{{suffix.elec}} {{ realTimeConsumptionElecUnit }}
                  </div>
                </app-chart-loader>
              </div>
              <div>
                <img width="50px" src="./assets/img/overview/electrical.png" alt="">
              </div>
            </div>
            <div class="field position-relative">
              <div>
                <div class="title">Water Consumption</div>
                <app-chart-loader [isDone] = "isDone.realTimeConsumptionWater">
                  <div class="value" [style.color]="this.colorMap.water.secondary">
                    {{ realTimeConsumptionWater}}{{suffix.water}} {{ realTimeConsumptionWaterUnit }}
                  </div>
                </app-chart-loader>
              </div>
              <div>
                <img height="58px" src="./assets/img/overview/water.png" alt="">
              </div>
            </div>
            <div class="field position-relative">
              <div>
                <div class="title">Cooling Load</div>
                <app-chart-loader [isDone] = "isDone.realTimeConsumptionCoolingLoad">
                  <div class="value" [style.color]="this.colorMap.cooling.secondary">
                    {{ realTimeConsumptionCoolingLoad }}{{suffix.cooling}} {{ realTimeConsumptionCoolingLoadUnit }}
                  </div>
                </app-chart-loader>
              </div>
              <div>
                <img width="54px" src="./assets/img/overview/coolingLoad.png" alt="">
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row d-xl-none">
      <div class="col-sm-12 col-md-12 col-lg-12 col-xl-12 pl-1 pr-1 mt-2">
        <div class="chart-card h-100">
          <div class="chart-card-header">This Month Consumption |
              <small>From {{ thisMonthConsumption.start | date:"yyyy-MM-dd" }}
            to {{ thisMonthConsumption.end.toString() | date:"yyyy-MM-dd" }}</small></div>
          <div class="chart-card-body p-3">
            <div class="row">
              <div class="topic col-sm-4 col-md-4 col-lg-4 col-xl-4 my-auto text-center column-seperator">
                <p class="mb-2">Energy Consumption</p>
                <app-chart-loader [isDone] = "isDone.realTimeConsumptionElec">
                  <span class="text-elec" [style.color]="this.colorMap.electric.secondary">{{ realTimeConsumptionElec }}{{suffix.elec}}
                  <span class="unit-size" [style.color]="this.colorMap.electric.secondary">{{ realTimeConsumptionElecUnit }} <br></span></span>
                </app-chart-loader>

              </div>
              <div class="topic col-sm-4 col-md-4 col-lg-4 text-center col-xl-4 my-auto">
                <p class="mb-2">Water Consumption</p>
                <app-chart-loader [isDone] = "isDone.realTimeConsumptionWater">
                  <span class="text-water" [style.color]="this.colorMap.water.secondary">{{ realTimeConsumptionWater }}{{suffix.water}}
                  <span class="unit-size" [style.color]="this.colorMap.water.secondary">{{realTimeConsumptionWaterUnit}}</span></span>
                </app-chart-loader>
              </div>

              <div class="topic col-sm-4 col-md-4 col-lg-4 text-center col-xl-4 my-auto">
                <p class="mb-2">Cooling Load</p>
                <app-chart-loader [isDone] = "isDone.realTimeConsumptionCoolingLoad">
                  <span class="text-cooling" [style.color]="this.colorMap.cooling.secondary">{{ realTimeConsumptionCoolingLoad }}{{suffix.cooling}} 
                  <span class="unit-size" [style.color]="this.colorMap.cooling.secondary">{{realTimeConsumptionCoolingLoadUnit}}</span></span>
                </app-chart-loader>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="row ">
      <div class="col-md-12 col-lg-6 pl-1 pr-1 mt-2" >
        <div class="chart-card h-100" id="summary">
          <div class="chart-card-header">
            <div class="header-title">{{serviceTypeChangeSummary?"Water":"Electrical Energy / Cooling Load"}} Summary - Last 6 Months</div>
            <div class="d-flex align-items-center">
              <app-toggle-switch [disabled] ="!isDone.consumptionSummary" aria-disabled="true" (onChange)="onSixMonthChartToggle($event)">{{serviceTypeChangeSummary?"Water":"Electrical Energy/Cooling Load"}}</app-toggle-switch>
              <app-print-preview [className]="'position-gorelative'" [targetHtml] = "'summary'" [title]="'Change In Cooling Load'"></app-print-preview>
            </div>
          </div>
          <div class="chart-card-body position-relative">
            <div class="row h-100">
              <div class="col-md-12 col-lg-12 col-xl-12 p-4">
                <!-- TODO: replaced stack chart with column3d chart -->
                <!-- <app-stackedcolumn3dline *ngIf="elecCategoryOverview" [dataSource]="elecCategoryOverview"></app-stackedcolumn3dline> -->
                <!-- <app-trend3d [dataSource]="mainIncomerConsumption"></app-trend3d> -->
                <app-chart-loader [isDone] = "isDone.consumptionSummary">
                  <app-stackedcolumn3dline *ngIf="serviceTypeChangeSummary" [dataSource]="consumptionSummary"></app-stackedcolumn3dline>
                  <app-mscolumn3dlinedy *ngIf="!serviceTypeChangeSummary" [dataSource]="consumptionSummary"></app-mscolumn3dlinedy>
                </app-chart-loader>
              </div>
            </div>
          </div>
        </div>
      </div>

      <div class="col-md-12 col-lg-6 pl-1 pr-1 mt-2">
        <div class="chart-card h-100 customs-activity-consumption">
          <div class="chart-card-header">
            <span>This Year Consumption - {{ today.getFullYear() }}</span>
            <small>From {{ thisYearConsumption.start | date:"yyyy-MM-dd" }} to {{ thisYearConsumption.end.toString() | date:"yyyy-MM-dd" }}</small>
          </div>
          <div class="chart-card-body position-relative">
            <div class="row h-100 p-1 pb-2 content-item">
              <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 p-1">
                <app-data-pointer [isDone] = "thisYearConsumptionElec" [color] = "this.colorMap.electric.secondary" [image] = "'./assets/img/overview/electrical.png'" [description]="'Total Energy Consumption'" [pointerText]="thisYearConsumptionElec" [unit]="'kWh'"
                                  type="kwh"></app-data-pointer>
              </div>
              <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 p-1">
                <app-data-pointer [isDone] = "thisYearConsumptionFootPrint" [color] = "this.colorMap.carboon.secondary" [image] = "'./assets/img/overview/carbon_footprint.png'" [pointerText]="thisYearConsumptionFootPrint" type="kgco2" [unit]="'kgCO<sub>2</sub>'" [description]="'Total Carbon Footprint'"></app-data-pointer>
              </div>
              <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 p-1">
                <app-data-pointer [isDone] = "thisYearConsumptionWater" [color] = "this.colorMap.water.secondary" [image] = "'./assets/img/overview/water.png'"  [description]="'Total Water Consumption'"
                                  [pointerText]="thisYearConsumptionWater" [unit]="'m<sup>3</sup>'"
                                  type="m3"></app-data-pointer>
              </div>

              <div class="col-12 col-sm-6 col-md-6 col-lg-6 col-xl-6 p-1">
                <app-data-pointer [isDone] = "thisYearConsumptionCooling" [color] = "this.colorMap.cooling.secondary" [image] = "'./assets/img/overview/coolingLoad.png'" [pointerText]="thisYearConsumptionCooling" type="rth" [unit]="'RTh'" [description]="'Total Cooling Load'"></app-data-pointer>
              </div>

              
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</div>

